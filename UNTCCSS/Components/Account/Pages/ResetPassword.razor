@using System.ComponentModel.DataAnnotations
@using System.Text
@using UNTCCSS.Components.Layout
@using Microsoft.AspNetCore.Identity
@using Microsoft.AspNetCore.WebUtilities
@using UNTCCSS.Components.Messege
@using UNTCCSS.Data
@page "/account/resetPassword"
@layout MainLayout

<PageTitle>Reset password</PageTitle>

<style>
    .font-botton {
        font-size: 18px;
    }
</style>

<div class="container w-100 vh-100 d-flex flex-column justify-content-center align-items-center">
    <div class="shadow p-4 rounded-3" style="max-width:450px; border-top: 4px solid red;">
        <h4 class="open-sans-bold">Crear nueva contraseña</h4>
        <span>Su nueva contraseña debe ser diferente a las contraseñas utilizadas anteriormente.</span>
        <hr />
        <div>
            <StatusMessage Message="@Message" />
            <EditForm Model="Input" FormName="reset-password" OnValidSubmit="OnValidSubmitAsync" method="post">
                <DataAnnotationsValidator />

                <input type="hidden" name="Input.Code" value="@Input.Code" />
                <div class="form-floating mb-3">
                    <InputText @bind-Value="Input.Email" id="Input.Email" class="form-control" autocomplete="username" aria-required="true" placeholder="name@example.com" />
                    <label for="Input.Email" class="form-label">Email</label>
                    <ValidationMessage For="() => Input.Email" class="text-danger" />
                </div>
                <div class="form-floating mb-3">
                    <InputText type="password" @bind-Value="Input.Password" id="Input.Password" class="form-control" autocomplete="new-password" aria-required="true" placeholder="Nueva contraseña." />
                    <label for="Input.Password" class="form-label">Contraseña</label>
                    <ValidationMessage For="() => Input.Password" class="text-danger" />
                </div>
                <div class="form-floating mb-3">
                    <InputText type="password" @bind-Value="Input.ConfirmPassword" id="Input.ConfirmPassword" class="form-control" autocomplete="new-password" aria-required="true" placeholder="Repita la contraseña." />
                    <label for="Input.ConfirmPassword" class="form-label">Confirmar contraseña</label>
                    <ValidationMessage For="() => Input.ConfirmPassword" class="text-danger" />
                </div>

                <button type="submit" class="w-100 btn btn-lg btn-primary font-botton">Restablecer la contraseña</button>
            </EditForm>

            <!-- Mensaje de soporte -->
            <div class="text-center mt-3 small">
                Si aún necesita ayuda, comuníquese con el <a href="#" class="text-primary">soporte de aiapaec</a>.
            </div>
        </div>
    </div>
</div>